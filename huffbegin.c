#include "header.h"

int main()
{
	node *oi = create_empty_node();
	pq *ola = create_pq();
	node *bt = create_empty_node();
	queue *fila = create_queue();

	unsigned char c;
	FILE *file = fopen("oi.txt","rb");
	while(1)
	{
		c = fgetc(file);
		//printf("aqui\n");
		if (feof(file)) 
		{
			break;
		}
		oi = add(oi,c);
	}
	node *temp = oi;
	while(temp != NULL)
	{
		enqueue_pq(ola,temp);
		temp = temp->next;
	}
	
	while(ola->head->next!= NULL)
	{
		node *c = dequeue_pq(ola);
		node *d = dequeue_pq(ola);
		merge(bt,c,d,ola);
	}
	
	//print_tree(ola->head);
	//printf("\n");
	backtrack(ola->head,fila);
	fclose(file);
	return 0;
}
}

